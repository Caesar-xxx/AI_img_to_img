webpackJsonp([1],{GlY2:function(e,t){},NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("7+uW"),n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var s=r("VU/8")({name:"App"},n,!1,function(e){r("doZh")},null,null).exports,l=r("/ocq"),i={name:"SearchImg",data:function(){return{activeIndex:"1",uploadImgSrc:"",serverUrl:"http://127.0.0.1:5000",gindexUrl:"http://127.0.0.1:5000/manage/gimgindex",postUrl:"http://127.0.0.1:5000/api/img_search",imgUrls:[]}},methods:{handleUploadSuccess:function(e,t){var r=this;"success"==e.msg&&(this.imgUrls=e.urls,this.imgUrls=this.imgUrls.map(function(e){return r.serverUrl+e})),this.uploadImgSrc=URL.createObjectURL(t.raw)},handlerError:function(e,t){console.log("上传失败")}}},c={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"container"}},[r("el-row",[r("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":e.activeIndex,mode:"horizontal","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"}},[r("el-menu-item",{attrs:{index:"1"}},[r("a",{attrs:{href:"/#/SearchImg"}},[e._v(" 相似图片")])]),e._v(" "),r("el-menu-item",{attrs:{index:"2"}},[r("a",{attrs:{href:"/#/Searchface"}},[e._v(" 相似人脸")])])],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-upload",{staticClass:"img-uploader",attrs:{action:e.postUrl,"show-file-list":!1,"on-success":e.handleUploadSuccess,"on-error":e.handlerError}},[e.uploadImgSrc?r("img",{staticClass:"avatar",attrs:{src:e.uploadImgSrc}}):r("i",{staticClass:"el-icon-plus img-uploader-icon"})])],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-link",{attrs:{type:"danger",icon:"el-icon-refresh",href:e.gindexUrl,target:"_blank"}},[e._v("重建图片索引")])],1)],1),e._v(" "),r("div",{attrs:{id:"img_container"}},[r("el-row",e._l(e.imgUrls,function(t,a){return r("el-image",{key:a,attrs:{src:t,"preview-src-list":e.imgUrls}})}),1)],1)],1)},staticRenderFns:[]};var o=r("VU/8")(i,c,!1,function(e){r("GlY2")},"data-v-9369fbda",null).exports,d={name:"SearchImg",data:function(){return{activeIndex:"2",uploadImgSrc:"",serverUrl:"http://127.0.0.1:5000",gindexUrl:"http://127.0.0.1:5000/manage/gfaceindex",postUrl:"http://127.0.0.1:5000/api/face_search",imgUrls:[]}},methods:{handleUploadSuccess:function(e,t){var r=this;"noface"==e.msg&&this.$notify.error({title:"错误",message:"上传照片不包含人脸"}),"success"==e.msg&&(this.imgUrls=e.urls,this.imgUrls=this.imgUrls.map(function(e){return r.serverUrl+e})),this.uploadImgSrc=URL.createObjectURL(t.raw)},handlerError:function(e,t){console.log("上传失败")}}},u={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"container"}},[r("el-row",[r("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":e.activeIndex,mode:"horizontal","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"}},[r("el-menu-item",{attrs:{index:"1"}},[r("a",{attrs:{href:"/#/SearchImg"}},[e._v(" 相似图片")])]),e._v(" "),r("el-menu-item",{attrs:{index:"2"}},[r("a",{attrs:{href:"/#/Searchface"}},[e._v(" 相似人脸")])])],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-upload",{staticClass:"img-uploader",attrs:{action:e.postUrl,"show-file-list":!1,"on-success":e.handleUploadSuccess,"on-error":e.handlerError}},[e.uploadImgSrc?r("img",{staticClass:"avatar",attrs:{src:e.uploadImgSrc}}):r("i",{staticClass:"el-icon-plus img-uploader-icon"})])],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-link",{attrs:{type:"danger",icon:"el-icon-refresh",href:e.gindexUrl,target:"_blank"}},[e._v("重建人脸索引")])],1)],1),e._v(" "),r("div",{attrs:{id:"img_container"}},[r("el-row",e._l(e.imgUrls,function(t,a){return r("el-image",{key:a,attrs:{src:t,"preview-src-list":e.imgUrls}})}),1)],1)],1)},staticRenderFns:[]};var m=r("VU/8")(d,u,!1,function(e){r("ndPs")},"data-v-3dfbaa8b",null).exports;a.default.use(l.a);var p=new l.a({routes:[{path:"/",name:"SearchImg",component:o},{path:"/SearchImg",name:"SearchImg",component:o},{path:"/searchFace",name:"SearchFace",component:m}]}),h=r("zL8q"),f=r.n(h);r("tvR6");a.default.use(f.a),a.default.config.productionTip=!1,new a.default({el:"#app",router:p,components:{App:s},template:"<App/>"})},doZh:function(e,t){},ndPs:function(e,t){},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.65805d24f696a15ef9ee.js.map